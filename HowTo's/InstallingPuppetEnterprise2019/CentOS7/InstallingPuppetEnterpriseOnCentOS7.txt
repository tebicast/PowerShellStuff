Installed on CentOs7

Check for available updates
    sudo yum check-update
Update CentOS
    sudo yum update
Package manager cleanup
    sudo yum clean all


yum install wget telnet nc nmap bind-utils nano net-tools

change computer name
echo "centos7puppetmaster" > /etc/hosts
***ADD puppet to /ets/hosts && and add 172.16.1.5 centos7puppetmaster1 centos7puppetmaster1.localdomain


allow root login to make things easier but take it off after
systemctl restart sshd.service

below doesnt work, but just download the files and scp them to the machine
curl -JLO https://pm.puppet.com/cgi-bin/download.cgi?dist=el&rel=7&arch=x86_64&ver=latest
##Get agnet JIC
curl -JLO https://pm.puppet.com/puppet-agent/2019.1.0/6.4.2/repos/el/7/puppet6/x86_64/puppet-agent-6.4.2-1.el7.x86_64.rpm

scp -v puppet-enterprise-2019.1.0-el-7-x86_64.tar.gz root@192.168.254.59:/home/puppetmaster1

##BELOW FROM https://puppet.com/docs/pe/2019.1/install_pe_getting_started.html
Verify Installation Package

Import the Puppet public key.
    wget -O - https://downloads.puppetlabs.com/puppet-gpg-signing-key.pub | gpg --import
Print the fingerprint of the key.
    gpg --fingerprint 
The primary key fingerprint displays: 6F6B 1550 9CF8 E59E 6E46 9F32 7F43 8280 EF8D 349F.

Verify the release signature of the installation package.
    gpg --verify puppet-enterprise-<version>-<platform>.tar.gz.asc
The result is similar to:
gpg: Signature made Tue 18 Sep 2016 10:05:25 AM PDT using RSA key ID EF8D349F
gpg: Good signature from "Puppet, Inc. Release Key (Puppet, Inc. Release Key)"

Install using express install
    Unpack the installation tarball:
        tar -xf <TARBALL_FILENAME>              
    From the installer directory, run the installer:
        sudo ./puppet-enterprise-installer
    When prompted, select express install mode.
    After installation completes, follow the prompts to specify a password, or run: puppet infra console_password --password=<MY_PASSWORD>
    Run Puppet twice: puppet agent -t.


add port 8140 && HTTPS to firewalld
firewall-cmd --zone=public --permanent --add-port=8140/tcp
firewall-cmd --zone=public --permanent --add-service=https --permanent
sudo firewall-cmd --reload
firewall-cmd --zone=public --permanent --list-ports
firewall-cmd --zone=public --permanent --list-services

##DHCP is enabled but it is not set to get a new IP on boot
sudo nano /etc/sysconfig/network-scripts/ifcfg-ens34
ONBOOT=yes

*****IF YOU DONT SSH ONTO THE MACHINE YOU WILL NOT BE ABLE TO COPY THE TEMP LINK TO CHANGE THE password
Changing the password -- only way if you cant copy and paste the long LINK
https://puppet.com/misc/pe-files/previous-releases/3.8.0  <-- 
Reset the admin password by running the update-superuser-password.rb utility script. You will then be able to log in to the console.
You will need to use the PE version of Ruby in /opt/puppet/bin/ruby.

scp -v puppet-enterprise-3.8.0-el-7-x86_64.tar.gz   root@172.16.1.5:/home/puppetmaster1
tar --extract --file puppet-enterprise-3.8.0-el-7-x86_64

**Troubleshooting
puppet agent --test --server_list centos7puppetmaster1 --verbose --debug